# üöÄ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è: –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ Smart Filter

## –ü—Ä–æ–±–ª–µ–º–∞
–ü–æ—Å–ª–µ –≤–Ω–µ—Å–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –∫–æ–¥, —Å–µ—Ä–≤–µ—Ä –Ω—É–∂–Ω–æ **–ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å**, –∏–Ω–∞—á–µ —Å—Ç–∞—Ä–∞—è –≤–µ—Ä—Å–∏—è –∫–æ–¥–∞ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å.

## ‚úÖ –ß–¢–û –ë–´–õ–û –°–î–ï–õ–ê–ù–û

–í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤–Ω–µ—Å–µ–Ω—ã –≤ –∫–æ–¥:

| –§–∞–π–ª | –°—Ç—Ä–æ–∫ –î–æ | –°—Ç—Ä–æ–∫ –ü–æ—Å–ª–µ | –°—Ç–∞—Ç—É—Å |
|------|----------|-------------|--------|
| `web_server.py` | - | +146 | ‚úÖ Endpoint `/api/smart-filter/apply` –¥–æ–±–∞–≤–ª–µ–Ω |
| `web/assets/js/components/smart-filter.js` | 372 | 738 | ‚úÖ Error handling –¥–æ–±–∞–≤–ª–µ–Ω |
| `web/assets/js/components/filter-wizard.js` | 328 | 789 | ‚úÖ Real API integration |
| `web/assets/js/components/filter-tester.js` | 315 | 714 | ‚úÖ File upload –¥–æ–±–∞–≤–ª–µ–Ω |

---

## üìã –®–ê–ì–ò –î–õ–Ø –ó–ê–ü–£–°–ö–ê

### –®–∞–≥ 1: –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ä—ã–π —Å–µ—Ä–≤–µ—Ä

**Windows CMD/PowerShell:**
```cmd
# –ù–∞–π—Ç–∏ –ø—Ä–æ—Ü–µ—Å—Å Python
tasklist | findstr python

# –£–±–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å (–∑–∞–º–µ–Ω–∏—Ç–µ PID –Ω–∞ –Ω–æ–º–µ—Ä –ø—Ä–æ—Ü–µ—Å—Å–∞)
taskkill /F /PID <PID>
```

**–ò–ª–∏ –ø—Ä–æ—Å—Ç–æ –∑–∞–∫—Ä–æ–π—Ç–µ –æ–∫–Ω–æ, –≥–¥–µ –∑–∞–ø—É—â–µ–Ω —Å–µ—Ä–≤–µ—Ä (Ctrl+C)**

---

### –®–∞–≥ 2: –ó–∞–ø—É—Å—Ç–∏—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π —Å–µ—Ä–≤–µ—Ä

```cmd
cd e:\Shtim\Downloads\email_checker
python web_server.py
```

**–î–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:**
```
üåê –°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω –Ω–∞ http://localhost:8080
üìÅ –†–∞–±–æ—á–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è: e:\Shtim\Downloads\email_checker
```

---

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å endpoint

**–í–∞—Ä–∏–∞–Ω—Ç A - –° –ø–æ–º–æ—â—å—é —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞:**
```cmd
# –í –ù–û–í–û–ú –æ–∫–Ω–µ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞
cd e:\Shtim\Downloads\email_checker
python test_endpoint.py
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
Testing /api/smart-filter/apply endpoint...
URL: http://localhost:8080/api/smart-filter/apply
--------------------------------------------------
Status Code: 200
Response:
{
  "success": true,
  "message": "Filter 'Test Filter' saved and applied to recent clean files",
  "config_name": "Test Filter",
  "config_file": "smart_filters/configs/test_filter_config.json",
  "timestamp": "2025-10-30T12:00:00Z"
}

‚úÖ SUCCESS! Endpoint is working correctly.
```

**–í–∞—Ä–∏–∞–Ω—Ç B - –° –ø–æ–º–æ—â—å—é curl:**
```bash
curl -X POST http://localhost:8080/api/smart-filter/apply \
  -H "Content-Type: application/json" \
  -d "{\"config\": {\"metadata\": {\"name\": \"Test\"}}, \"timestamp\": \"2025-10-30T12:00:00Z\"}"
```

**–í–∞—Ä–∏–∞–Ω—Ç C - –í –±—Ä–∞—É–∑–µ—Ä–µ:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ DevTools (F12)
2. Console tab
3. –í—ã–ø–æ–ª–Ω–∏—Ç–µ:
```javascript
fetch('http://localhost:8080/api/smart-filter/apply', {
    method: 'POST',
    headers: {'Content-Type': 'application/json'},
    body: JSON.stringify({
        config: {
            metadata: {name: 'Browser Test'}
        },
        timestamp: new Date().toISOString()
    })
})
.then(r => r.json())
.then(data => console.log('‚úÖ SUCCESS:', data))
.catch(err => console.error('‚ùå ERROR:', err));
```

---

### –®–∞–≥ 4: –û—Ç–∫—Ä—ã—Ç—å Smart Filter Studio

```
http://localhost:8080/smart-filter.html
```

**–ò–ª–∏:**
```
http://localhost:8080/
```
–ò –ø–µ—Ä–µ–π—Ç–∏ –≤ —Ä–∞–∑–¥–µ–ª "Smart Filter Studio"

---

## üß™ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï –ù–û–í–´–• –§–£–ù–ö–¶–ò–ô

### 1. Error Handling —Å Retry

1. –û—Ç–∫—Ä–æ–π—Ç–µ Smart Filter Studio
2. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∏–ª—å—Ç—Ä –≤ Visual Builder
3. –ù–∞–∂–º–∏—Ç–µ "Apply Filter"
4. **–ï—Å–ª–∏ –æ—à–∏–±–∫–∞:**
   - –£–≤–∏–¥–∏—Ç–µ –ø–æ–Ω—è—Ç–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ
   - –ü–æ—è–≤–∏—Ç—Å—è –∫–Ω–æ–ø–∫–∞ "Retry"
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–æ–≤—Ç–æ—Ä—ã (3 –ø–æ–ø—ã—Ç–∫–∏ —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π)
5. **–ï—Å–ª–∏ —É—Å–ø–µ—Ö:**
   - Toast: "Filter applied successfully!"
   - –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏

### 2. FilterWizard —Å Real API

1. –û—Ç–∫—Ä–æ–π—Ç–µ Smart Filter Studio
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É "Wizard"
3. **Step 1 - List Selection:**
   - –î–æ–ª–∂–Ω—ã –∑–∞–≥—Ä—É–∑–∏—Ç—å—Å—è –†–ï–ê–õ–¨–ù–´–ï —Å–ø–∏—Å–∫–∏ –∏–∑ `output/`
   - –ù–µ sample data, –∞ actual files
4. **Step 3 - Customization:**
   - 4 —Å–ª–∞–π–¥–µ—Ä–∞ –¥–ª—è –≤–µ—Å–æ–≤ (Email Quality, Company, Geography, Engagement)
   - 3 –ø–æ–ª—è –¥–ª—è thresholds (HIGH, MEDIUM, LOW)
5. **Step 4 - Preview:**
   - –†–ï–ê–õ–¨–ù–´–ô scoring preview —Å –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–º–∏ emails
   - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (HIGH/MEDIUM/LOW counts)
6. **Step 5 - Export:**
   - –ö–Ω–æ–ø–∫–∞ "Apply Filter" –∑–∞–ø—É—Å–∫–∞–µ—Ç processing

### 3. File Upload –≤ FilterTester

1. –û—Ç–∫—Ä–æ–π—Ç–µ Smart Filter Studio
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É "Filter Tester"
3. –ù–∞–∂–º–∏—Ç–µ "Upload File" tab
4. –ó–∞–≥—Ä—É–∑–∏—Ç–µ `test_emails.txt` –∏–ª–∏ `test_emails.csv`
5. **–î–æ–ª–∂–Ω–æ –ø—Ä–æ–∏–∑–æ–π—Ç–∏:**
   - –§–∞–π–ª —Ä–∞—Å–ø–∞—Ä—Å–∏—Ç—Å—è
   - –ü–æ–∫–∞–∂–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö emails
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å—Ç–∏—Ç —Ç–µ—Å—Ç (–µ—Å–ª–∏ checkbox –≤–∫–ª—é—á–µ–Ω)
   - –û—Ç–æ–±—Ä–∞–∑–∏—Ç scored results

---

## ‚ùå –í–û–ó–ú–û–ñ–ù–´–ï –ü–†–û–ë–õ–ï–ú–´

### –ü—Ä–æ–±–ª–µ–º–∞ 1: "Cannot connect to server"

**–ü—Ä–∏—á–∏–Ω–∞:** –°–µ—Ä–≤–µ—Ä –Ω–µ –∑–∞–ø—É—â–µ–Ω

**–†–µ—à–µ–Ω–∏–µ:**
```cmd
cd e:\Shtim\Downloads\email_checker
python web_server.py
```

---

### –ü—Ä–æ–±–ª–µ–º–∞ 2: "Address already in use"

**–ü—Ä–∏—á–∏–Ω–∞:** –ü–æ—Ä—Ç 8080 –∑–∞–Ω—è—Ç —Å—Ç–∞—Ä—ã–º –ø—Ä–æ—Ü–µ—Å—Å–æ–º

**–†–µ—à–µ–Ω–∏–µ:**
```cmd
# –ù–∞–π—Ç–∏ –ø—Ä–æ—Ü–µ—Å—Å
netstat -ano | findstr ":8080"

# –£–±–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å (–∑–∞–º–µ–Ω–∏—Ç–µ PID)
taskkill /F /PID <PID>

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–Ω–æ–≤–∞
python web_server.py
```

---

### –ü—Ä–æ–±–ª–µ–º–∞ 3: "Module not found"

**–ü—Ä–∏—á–∏–Ω–∞:** –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

**–†–µ—à–µ–Ω–∏–µ:**
```cmd
pip install -r requirements.txt
```

---

### –ü—Ä–æ–±–ª–µ–º–∞ 4: "404 Not Found" –Ω–∞ /api/smart-filter/apply

**–ü—Ä–∏—á–∏–Ω–∞:** –°–µ—Ä–≤–µ—Ä –Ω–µ –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π

**–†–µ—à–µ–Ω–∏–µ:**
1. –£–±–µ–π—Ç–µ –ø—Ä–æ—Ü–µ—Å—Å Python (Ctrl+C –∏–ª–∏ taskkill)
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `python web_server.py` —Å–Ω–æ–≤–∞
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `python test_endpoint.py`

---

### –ü—Ä–æ–±–ª–µ–º–∞ 5: Frontend changes not visible

**–ü—Ä–∏—á–∏–Ω–∞:** –ë—Ä–∞—É–∑–µ—Ä –∫—ç—à–∏—Ä—É–µ—Ç —Å—Ç–∞—Ä—ã–µ JS —Ñ–∞–π–ª—ã

**–†–µ—à–µ–Ω–∏–µ:**
```
1. –û—Ç–∫—Ä–æ–π—Ç–µ DevTools (F12)
2. Network tab
3. –ü–æ—Å—Ç–∞–≤—å—Ç–µ –≥–∞–ª–æ—á–∫—É "Disable cache"
4. –û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É (Ctrl+Shift+R)
```

---

## üìä –ü–†–û–í–ï–†–ö–ê –°–¢–ê–¢–£–°–ê

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω:

```cmd
curl http://localhost:8080/api/status
```

–î–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å JSON —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ —Å—Ç–∞—Ç—É—Å–µ.

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ endpoint –¥–æ—Å—Ç—É–ø–µ–Ω:

```cmd
python test_endpoint.py
```

–î–æ–ª–∂–Ω–æ –≤—ã–≤–µ—Å—Ç–∏ `‚úÖ SUCCESS!`

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞:

–í –æ–∫–Ω–µ, –≥–¥–µ –∑–∞–ø—É—â–µ–Ω `python web_server.py`, –≤—ã —É–≤–∏–¥–∏—Ç–µ:
- `POST /api/smart-filter/apply` - endpoint –±—ã–ª –≤—ã–∑–≤–∞–Ω
- `200 OK` - —É—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç
- –ò–ª–∏ –æ—à–∏–±–∫–∏, –µ—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ç–∞–∫

---

## üéØ –ë–´–°–¢–†–ê–Ø –ü–†–û–í–ï–†–ö–ê (30 —Å–µ–∫—É–Ω–¥)

```bash
# 1. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä (–µ—Å–ª–∏ –Ω–µ –∑–∞–ø—É—â–µ–Ω)
cd e:\Shtim\Downloads\email_checker
python web_server.py

# 2. –í –ù–û–í–û–ú —Ç–µ—Ä–º–∏–Ω–∞–ª–µ - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å endpoint
python test_endpoint.py

# 3. –û—Ç–∫—Ä—ã—Ç—å –±—Ä–∞—É–∑–µ—Ä
start http://localhost:8080/smart-filter.html
```

–ï—Å–ª–∏ –≤—Å–µ 3 —à–∞–≥–∞ —Ä–∞–±–æ—Ç–∞—é—Ç - —Å–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é! üöÄ

---

## üìù –õ–û–ì–ò–†–û–í–ê–ù–ò–ï

–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:

### –°–µ—Ä–≤–µ—Ä–Ω—ã–µ –ª–æ–≥–∏ (–≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ —Å web_server.py):
- `POST /api/smart-filter/apply` - –∑–∞–ø—Ä–æ—Å –ø–æ–ª—É—á–µ–Ω
- `200 OK` - —É—Å–ø–µ—à–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω
- `Error:` - –ø—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞

### –ë—Ä–∞—É–∑–µ—Ä–Ω—ã–µ –ª–æ–≥–∏ (F12 ‚Üí Console):
- `‚úì Filter applied:` - —É—Å–ø–µ—Ö
- `‚ùå Error applying filter:` - –æ—à–∏–±–∫–∞
- Network tab - —Å—Ç–∞—Ç—É—Å –∑–∞–ø—Ä–æ—Å–æ–≤ (200, 404, 500)

---

## üí° –ß–¢–û –î–ê–õ–¨–®–ï?

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –º–æ–∂–µ—Ç–µ:

1. **–°–æ–∑–¥–∞—Ç—å —Å–≤–æ–π —Ñ–∏–ª—å—Ç—Ä:** Visual Builder ‚Üí –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã ‚Üí Save
2. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:** Filter Tester ‚Üí –∑–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–∞–π–ª ‚Üí —Å–º–æ—Ç—Ä–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
3. **–ü—Ä–∏–º–µ–Ω–∏—Ç—å –∫ —Å–ø–∏—Å–∫–∞–º:** Apply Filter ‚Üí –æ–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞—á–Ω–µ—Ç—Å—è –≤ background
4. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:** –í `output/` –ø–æ—è–≤—è—Ç—Å—è `*_HIGH_PRIORITY_*.txt` —Ñ–∞–π–ª—ã

---

## üÜò –ù–£–ñ–ù–ê –ü–û–ú–û–©–¨?

–ï—Å–ª–∏ endpoint –≤—Å—ë –µ—â—ë –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:

1. **–ü–æ–∫–∞–∂–∏—Ç–µ –≤—ã–≤–æ–¥ –∫–æ–º–∞–Ω–¥:**
   ```bash
   python test_endpoint.py
   ```

2. **–ü–æ–∫–∞–∂–∏—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞** (–ø–æ—Å–ª–µ–¥–Ω–∏–µ 20 —Å—Ç—Ä–æ–∫ –∏–∑ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞)

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–µ—Ä—Å–∏—é Python:**
   ```bash
   python --version
   ```
   –î–æ–ª–∂–Ω–∞ –±—ã—Ç—å 3.6+

4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ñ–∞–π–ª –∏–∑–º–µ–Ω–µ–Ω:**
   ```bash
   grep "def handle_smart_filter_apply" web_server.py
   ```
   –î–æ–ª–∂–Ω–æ –≤—ã–≤–µ—Å—Ç–∏ —Å—Ç—Ä–æ–∫—É —Å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ–º –º–µ—Ç–æ–¥–∞

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2025-10-30
**–í–µ—Ä—Å–∏—è:** Smart Filter v2.0 (—Å –ø–æ–ª–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π)
