# Debugging Email Manager - "Failed to load emails"

## –ü—Ä–æ–±–ª–µ–º–∞
–ü—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã Email Manager –ø–æ—è–≤–ª—è–µ—Ç—Å—è –æ—à–∏–±–∫–∞: **"Failed to load emails"**

## –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

### –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É Email Manager
2. –ù–∞–∂–º–∏—Ç–µ **F12** (–æ—Ç–∫—Ä–æ–µ—Ç—Å—è DevTools)
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É **Console**
4. –û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É (F5)

–ù–∞–π–¥–∏—Ç–µ –≤ –∫–æ–Ω—Å–æ–ª–∏:
- ‚ùå **–ö—Ä–∞—Å–Ω—ã–µ –æ—à–∏–±–∫–∏** - –æ—Å–æ–±–µ–Ω–Ω–æ —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å `api.get` –∏–ª–∏ `fetch`
- üîç **Network errors** - 404, 500, CORS errors
- üì° **URL –∑–∞–ø—Ä–æ—Å–∞** - –ø–æ—Å–º–æ—Ç—Ä–∏—Ç–µ, –∫—É–¥–∞ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –∑–∞–ø—Ä–æ—Å `/api/emails`

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Network Tab

1. –í DevTools –ø–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É **Network**
2. –û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É (F5)
3. –ù–∞–π–¥–∏—Ç–µ –∑–∞–ø—Ä–æ—Å –∫ `/api/emails`
4. –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –Ω–µ–≥–æ –∏ –ø–æ—Å–º–æ—Ç—Ä–∏—Ç–µ:
   - **Request URL** - –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å `http://localhost:XXXX/api/emails?page=1&page_size=100...`
   - **Status Code** - –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å `200 OK`
   - **Response** - –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å JSON —Å `success: true`

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞ –∫–∞–∫–æ–º –ø–æ—Ä—Ç—É —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–µ—Ä–≤–µ—Ä

–ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–µ:

```bash
cd e:\Shtim\Downloads\email_checker
python web_server.py
```

–°–µ—Ä–≤–µ—Ä –¥–æ–ª–∂–µ–Ω –≤—ã–≤–µ—Å—Ç–∏:
```
üåê Server available at: http://localhost:XXXX
```

**–ó–∞–ø–æ–º–Ω–∏—Ç–µ –ø–æ—Ä—Ç XXXX!**

### –®–∞–≥ 4: –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π URL

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç–µ –±—Ä–∞—É–∑–µ—Ä –Ω–∞ **—Ç–æ–º –∂–µ –ø–æ—Ä—Ç—É**, —á—Ç–æ –≤—ã–¥–∞–ª web_server.py:

```
http://localhost:XXXX/new
```

–ì–¥–µ XXXX - –ø–æ—Ä—Ç –∏–∑ –®–∞–≥–∞ 3.

## –¢–∏–ø–∏—á–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

### –ü—Ä–æ–±–ª–µ–º–∞ 1: –ü–æ—Ä—Ç –Ω–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç
**–°–∏–º–ø—Ç–æ–º:** –ó–∞–ø—Ä–æ—Å –∏–¥—ë—Ç –Ω–∞ `http://localhost:8080/api/emails`, –∞ —Å–µ—Ä–≤–µ—Ä –Ω–∞ –ø–æ—Ä—Ç—É `8089`

**–†–µ—à–µ–Ω–∏–µ:** –û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ—Ä—Ç—É (–∫–æ—Ç–æ—Ä—ã–π –ø–æ–∫–∞–∑–∞–ª web_server.py)

### –ü—Ä–æ–±–ª–µ–º–∞ 2: CORS Error
**–°–∏–º–ø—Ç–æ–º:** –í –∫–æ–Ω—Å–æ–ª–∏ –æ—à–∏–±–∫–∞ `CORS policy` –∏–ª–∏ `Access-Control-Allow-Origin`

**–†–µ—à–µ–Ω–∏–µ:** –≠—Ç–æ –Ω–µ –¥–æ–ª–∂–Ω–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç—å, —Ç.–∫. frontend –∏ backend –Ω–∞ –æ–¥–Ω–æ–º —Ö–æ—Å—Ç–µ. –ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç–µ `/new`, –∞ –Ω–µ —Ñ–∞–π–ª –Ω–∞–ø—Ä—è–º—É—é —á–µ—Ä–µ–∑ `file://`

### –ü—Ä–æ–±–ª–µ–º–∞ 3: 404 Not Found –Ω–∞ /api/emails
**–°–∏–º–ø—Ç–æ–º:** Network tab –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç `404` –Ω–∞ `/api/emails`

**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ web_server.py –∑–∞–ø—É—â–µ–Ω –∏ –≤ –Ω—ë–º –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω endpoint. –í—ã–ø–æ–ª–Ω–∏—Ç–µ:

```bash
cd e:\Shtim\Downloads\email_checker
curl http://localhost:8089/api/emails?page=1&page_size=2
```

–î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å—Å—è JSON —Å `success: true`.

### –ü—Ä–æ–±–ª–µ–º–∞ 4: 500 Internal Server Error
**–°–∏–º–ø—Ç–æ–º:** Network tab –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç `500` –Ω–∞ `/api/emails`

**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ web_server.py –≤ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–µ. –¢–∞–º –±—É–¥–µ—Ç traceback –æ—à–∏–±–∫–∏ Python.

### –ü—Ä–æ–±–ª–µ–º–∞ 5: –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ø—É—Å—Ç–∞
**–°–∏–º–ø—Ç–æ–º:** API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `success: true`, –Ω–æ `emails: []` (–ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤)

**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ metadata.db:

```bash
cd e:\Shtim\Downloads\email_checker
python test_email_api.py
```

–î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å: `Total records: 58XXX`

## –ë—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç API

–í—ã–ø–æ–ª–Ω–∏—Ç–µ –≤ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–µ:

```bash
cd e:\Shtim\Downloads\email_checker

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ API —Ä–∞–±–æ—Ç–∞–µ—Ç
curl http://localhost:8089/api/emails?page=1&page_size=2

# –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å JSON:
# {
#   "success": true,
#   "data": {
#     "emails": [...],
#     "pagination": {...}
#   }
# }
```

–ï—Å–ª–∏ —ç—Ç–æ—Ç –∑–∞–ø—Ä–æ—Å —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ –±—Ä–∞—É–∑–µ—Ä –Ω–µ –º–æ–∂–µ—Ç –∑–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ - **–ø—Ä–æ–±–ª–µ–º–∞ –≤ –ø–æ—Ä—Ç—É –∏–ª–∏ –≤ JavaScript**.

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –æ—Ç–ª–∞–¥–∫–∞

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–≥—Ä—É–∑–∫—É –º–æ–¥—É–ª–µ–π

–í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞ (F12 ‚Üí Console) –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```javascript
// –ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ api –º–æ–¥—É–ª—å –∑–∞–≥—Ä—É–∂–µ–Ω
console.log(typeof api);  // –î–æ–ª–∂–Ω–æ –±—ã—Ç—å 'object'

// –ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∑–∞–≥—Ä—É–∂–µ–Ω
console.log(typeof EmailListViewComponent);  // –î–æ–ª–∂–Ω–æ –±—ã—Ç—å 'function'

// –†—É—á–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ API
api.get('/api/emails?page=1&page_size=2').then(r => console.log(r));
```

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö

```bash
cd e:\Shtim\Downloads\email_checker
python -c "from metadata_database import MetadataDatabase; db = MetadataDatabase(); emails, total = db.get_emails_paginated(page=1, page_size=5); print(f'Total: {total}, Got: {len(emails)}')"
```

–î–æ–ª–∂–Ω–æ –≤—ã–≤–µ—Å—Ç–∏: `Total: 58XXX, Got: 5`

## –ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –ø–æ–º–æ–≥–∞–µ—Ç

1. **–ü–æ–ª–Ω–æ—Å—Ç—å—é –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ web_server.py** (Ctrl+C –≤ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–µ)
2. **–û—á–∏—Å—Ç–∏—Ç–µ –∫—ç—à –±—Ä–∞—É–∑–µ—Ä–∞** (Ctrl+Shift+Delete ‚Üí Clear cache)
3. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –∑–∞–Ω–æ–≤–æ**:
   ```bash
   cd e:\Shtim\Downloads\email_checker
   python web_server.py
   ```
4. **–û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä –≤ —Ä–µ–∂–∏–º–µ –∏–Ω–∫–æ–≥–Ω–∏—Ç–æ** –Ω–∞ URL –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∫–∞–∑–∞–ª —Å–µ—Ä–≤–µ—Ä
5. **–û—Ç–∫—Ä–æ–π—Ç–µ DevTools** (F12) **–î–û** –ø–µ—Ä–µ—Ö–æ–¥–∞ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É Email Manager
6. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ** –Ω–∞ Email Manager –∏ **—Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤—Å–µ –æ—à–∏–±–∫–∏ –∏–∑ –∫–æ–Ω—Å–æ–ª–∏**

## –û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ

–ü—Ä–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç–µ:

1. ‚úÖ Console –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç: `‚úÖ Email List View initialized`
2. ‚úÖ Console –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç: `–ó–∞–≥—Ä—É–∂–µ–Ω–æ N email –∞–¥—Ä–µ—Å–æ–≤`
3. ‚úÖ Network tab –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç: `GET /api/emails?... ‚Üí 200 OK`
4. ‚úÖ –ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Ç–∞–±–ª–∏—Ü–∞ —Å email –∞–¥—Ä–µ—Å–∞–º–∏

---

**–û—Ç–ø—Ä–∞–≤—å—Ç–µ –º–Ω–µ:**
- –°–∫—Ä–∏–Ω—à–æ—Ç –∫–æ–Ω—Å–æ–ª–∏ (F12 ‚Üí Console)
- –°–∫—Ä–∏–Ω—à–æ—Ç Network tab —Å –∑–∞–ø—Ä–æ—Å–æ–º `/api/emails`
- –í—ã–≤–æ–¥ –∫–æ–º–∞–Ω–¥—ã `curl http://localhost:XXXX/api/emails?page=1&page_size=2` (–≥–¥–µ XXXX - –≤–∞—à –ø–æ—Ä—Ç)
